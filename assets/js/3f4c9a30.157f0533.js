"use strict";(globalThis.webpackChunkfastspa_documentation=globalThis.webpackChunkfastspa_documentation||[]).push([[328],{4538(e,t,n){n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/multi-satellite","title":"Multi-Satellite Analysis","description":"Analyze multiple environmental flows (satellites) simultaneously.","source":"@site/docs/guides/multi-satellite.md","sourceDirName":"guides","slug":"/guides/multi-satellite","permalink":"/docs/guides/multi-satellite","draft":false,"unlisted":false,"editUrl":"https://docs.fastspa.net/edit/main/docs/docs/guides/multi-satellite.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"PathCollection","permalink":"/docs/concepts/pathcollection"},"next":{"title":"Sector Concordance","permalink":"/docs/guides/concordance"}}');var a=n(6070),i=n(8193);const l={sidebar_position:1},r="Multi-Satellite Analysis",o={},c=[{value:"Setting Up Multiple Satellites",id:"setting-up-multiple-satellites",level:2},{value:"Analyzing All Satellites",id:"analyzing-all-satellites",level:2},{value:"Analyzing a Specific Satellite",id:"analyzing-a-specific-satellite",level:2},{value:"Combining Results",id:"combining-results",level:2},{value:"Example: Comparing Environmental Impacts",id:"example-comparing-environmental-impacts",level:2},{value:"Iterating Over Results",id:"iterating-over-results",level:2}];function p(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"multi-satellite-analysis",children:"Multi-Satellite Analysis"})}),"\n",(0,a.jsx)(t.p,{children:"Analyze multiple environmental flows (satellites) simultaneously."}),"\n",(0,a.jsx)(t.h2,{id:"setting-up-multiple-satellites",children:"Setting Up Multiple Satellites"}),"\n",(0,a.jsx)(t.p,{children:"Pass a dictionary of intensity vectors to the SPA constructor:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'from fastspa import SPA\r\n\r\nspa = SPA(\r\n    A_matrix,\r\n    {\r\n        "ghg": ghg_intensities,      # kg CO2-e per unit output\r\n        "water": water_intensities,  # m\xb3 per unit output\r\n        "energy": energy_intensities # MJ per unit output\r\n    },\r\n    sectors=sector_names\r\n)\n'})}),"\n",(0,a.jsx)(t.h2,{id:"analyzing-all-satellites",children:"Analyzing All Satellites"}),"\n",(0,a.jsxs)(t.p,{children:["When you analyze without specifying a satellite, you get an ",(0,a.jsx)(t.code,{children:"SPAResult"})," containing all satellites:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"result = spa.analyze(sector=\"Manufacturing\", depth=8)\r\n\r\n# SPAResult contains results for all satellites\r\nprint(result.satellites)  # ['ghg', 'water', 'energy']\r\n\r\n# Access individual satellite results\r\nghg_paths = result[\"ghg\"]\r\nwater_paths = result[\"water\"]\r\n\r\n# Each is a PathCollection\r\nprint(ghg_paths.summary())\n"})}),"\n",(0,a.jsx)(t.h2,{id:"analyzing-a-specific-satellite",children:"Analyzing a Specific Satellite"}),"\n",(0,a.jsx)(t.p,{children:"To analyze only one satellite:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Specify the satellite\r\nwater_paths = spa.analyze(\r\n    sector="Manufacturing",\r\n    depth=8,\r\n    satellite="water"\r\n)\r\n\r\n# Returns a PathCollection directly (not SPAResult)\r\nprint(water_paths.summary())\n'})}),"\n",(0,a.jsx)(t.h2,{id:"combining-results",children:"Combining Results"}),"\n",(0,a.jsx)(t.p,{children:"Export all satellites to a single DataFrame:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"# Combined DataFrame with a 'satellite' column\r\ndf = result.to_dataframe()\r\nprint(df.columns)\r\n# ['contribution', 'contribution_pct', 'direct_intensity',\r\n#  'cumulative_weight', 'depth', 'stage_0', 'stage_0_name', ..., 'satellite']\r\n\r\n# Filter by satellite\r\nghg_df = df[df['satellite'] == 'ghg']\n"})}),"\n",(0,a.jsx)(t.h2,{id:"example-comparing-environmental-impacts",children:"Example: Comparing Environmental Impacts"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'from fastspa import SPA\r\n\r\nspa = SPA(A, {\r\n    "carbon": carbon_intensities,\r\n    "water": water_intensities,\r\n}, sectors=sectors)\r\n\r\nresult = spa.analyze(sector="Electricity", depth=8)\r\n\r\n# Compare top emission sources\r\nfor sat_name in result.satellites:\r\n    paths = result[sat_name]\r\n    print(f"\\n{sat_name.upper()} - Top 5 Sources:")\r\n    hotspots = paths.aggregate_by_sector()\r\n    top_5 = sorted(hotspots.items(), key=lambda x: x[1], reverse=True)[:5]\r\n    for idx, contrib in top_5:\r\n        sector_name = sectors[idx]\r\n        print(f"  {sector_name}: {contrib:.2%}")\n'})}),"\n",(0,a.jsx)(t.h2,{id:"iterating-over-results",children:"Iterating Over Results"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Iterate over satellite names\r\nfor sat_name in result:\r\n    print(f"Satellite: {sat_name}")\r\n\r\n# Iterate over name-paths pairs\r\nfor sat_name, paths in result.items():\r\n    print(f"{sat_name}: {len(paths)} paths, {paths.coverage:.1%} coverage")\n'})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},8193(e,t,n){n.d(t,{R:()=>l,x:()=>r});var s=n(758);const a={},i=s.createContext(a);function l(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);