"use strict";(globalThis.webpackChunkfastspa_documentation=globalThis.webpackChunkfastspa_documentation||[]).push([[394],{1050(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/loading-data","title":"Loading Data","description":"FastSPA provides multiple ways to load data from different sources.","source":"@site/docs/guides/loading-data.md","sourceDirName":"guides","slug":"/guides/loading-data","permalink":"/docs/guides/loading-data","draft":false,"unlisted":false,"editUrl":"https://docs.fastspa.net/edit/main/docs/docs/guides/loading-data.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Memory-Efficient Streaming","permalink":"/docs/guides/streaming"},"next":{"title":"Semantic Aggregation (Custom & Hierarchical)","permalink":"/docs/guides/semantic-aggregation"}}');var i=r(6070),a=r(8193);const t={sidebar_position:4},o="Loading Data",l={},d=[{value:"From Arrays (Primary Interface)",id:"from-arrays-primary-interface",level:2},{value:"From DataFrames",id:"from-dataframes",level:2},{value:"From CSV Files",id:"from-csv-files",level:2},{value:"From Pre-computed Leontief Inverse",id:"from-pre-computed-leontief-inverse",level:2},{value:"From IO Tables (Experimental)",id:"from-io-tables-experimental",level:2},{value:"Working with Sparse Matrices",id:"working-with-sparse-matrices",level:2},{value:"Data Format Requirements",id:"data-format-requirements",level:2},{value:"A-Matrix (Technical Coefficients)",id:"a-matrix-technical-coefficients",level:3},{value:"Intensities",id:"intensities",level:3},{value:"Sector Names",id:"sector-names",level:3},{value:"Example: Complete Data Loading",id:"example-complete-data-loading",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"loading-data",children:"Loading Data"})}),"\n",(0,i.jsx)(n.p,{children:"FastSPA provides multiple ways to load data from different sources."}),"\n",(0,i.jsx)(n.h2,{id:"from-arrays-primary-interface",children:"From Arrays (Primary Interface)"}),"\n",(0,i.jsx)(n.p,{children:"The most direct approach:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import numpy as np\r\nfrom fastspa import SPA\r\n\r\n# Load your data\r\nA = np.load("A_matrix.npy")\r\nintensities = np.load("intensities.npy")\r\nsectors = ["Agriculture", "Mining", "Manufacturing", ...]\r\n\r\nspa = SPA(A, intensities, sectors)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"from-dataframes",children:"From DataFrames"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import pandas as pd\r\nfrom fastspa import from_dataframe\r\n\r\n# A-matrix as DataFrame (index and columns are sector names)\r\nA_df = pd.read_csv("A_matrix.csv", index_col=0)\r\n\r\n# Intensities with sector index\r\nintensities_df = pd.read_csv("intensities.csv", index_col=0)\r\n\r\nspa = from_dataframe(\r\n    A_df,\r\n    intensities_df,\r\n    intensity_columns=["CO2", "Water", "Energy"]  # Optional: specify columns\r\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"from-csv-files",children:"From CSV Files"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from fastspa import from_csv\r\n\r\nspa = from_csv(\r\n    "A_matrix.csv",           # A-matrix file\r\n    "intensities.csv",        # Intensities file\r\n    intensity_columns=["ghg", "water"],  # Which columns to use\r\n    sectors_path="sectors.txt",  # Optional: sector names file\r\n    mode="sector_specific"       # Analysis mode\r\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"from-pre-computed-leontief-inverse",children:"From Pre-computed Leontief Inverse"}),"\n",(0,i.jsx)(n.p,{children:"If you already have the Leontief inverse:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from fastspa import from_leontief\r\n\r\n# Skip L computation (saves time for large matrices)\r\nspa = from_leontief(\r\n    L_matrix,       # Pre-computed (I - A)^(-1)\r\n    intensities,\r\n    sectors,\r\n    mode="system_wide"  # Default for Leontief-based analysis\r\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"from-io-tables-experimental",children:"From IO Tables (Experimental)"}),"\n",(0,i.jsx)(n.p,{children:"Parse IO tables from Excel files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from fastspa import from_io_table\r\n\r\nspa = from_io_table(\r\n    "io_table.xlsx",\r\n    sheet_name="Table 5",\r\n    intensities=emissions_vector  # Optional: provide intensities\r\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"working-with-sparse-matrices",children:"Working with Sparse Matrices"}),"\n",(0,i.jsx)(n.p,{children:"FastSPA supports scipy sparse matrices:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from scipy import sparse\r\n\r\n# Load or create sparse A-matrix\r\nA_sparse = sparse.load_npz("A_sparse.npz")\r\n\r\n# Use directly\r\nspa = SPA(A_sparse, intensities, sectors)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"data-format-requirements",children:"Data Format Requirements"}),"\n",(0,i.jsx)(n.h3,{id:"a-matrix-technical-coefficients",children:"A-Matrix (Technical Coefficients)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Square matrix (n \xd7 n)"}),"\n",(0,i.jsx)(n.li,{children:"Values typically between 0 and 1"}),"\n",(0,i.jsx)(n.li,{children:"Rows: inputs to sectors"}),"\n",(0,i.jsx)(n.li,{children:"Columns: sector production"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"intensities",children:"Intensities"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Vector of length n"}),"\n",(0,i.jsx)(n.li,{children:"Direct intensity per unit output"}),"\n",(0,i.jsx)(n.li,{children:"Units depend on your analysis (e.g., kg CO2-e / $)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sector-names",children:"Sector Names"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"List/tuple of n strings"}),"\n",(0,i.jsx)(n.li,{children:"Must match A-matrix dimensions"}),"\n",(0,i.jsx)(n.li,{children:"Used for readable output"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-complete-data-loading",children:"Example: Complete Data Loading"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import numpy as np\r\nimport pandas as pd\r\nfrom fastspa import SPA\r\n\r\n# Load A-matrix\r\nA_df = pd.read_csv("A_matrix.csv", index_col=0)\r\nA = A_df.values\r\nsectors = list(A_df.index)\r\n\r\n# Load multiple intensity vectors\r\nemissions = pd.read_csv("emissions.csv", index_col=0)\r\nintensities = {\r\n    "carbon": emissions["CO2"].values,\r\n    "water": emissions["Water"].values,\r\n}\r\n\r\n# Create SPA instance\r\nspa = SPA(A, intensities, sectors, mode="sector_specific")\r\n\r\n# Ready for analysis\r\npaths = spa.analyze(sector="Manufacturing", depth=8)\n'})})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8193(e,n,r){r.d(n,{R:()=>t,x:()=>o});var s=r(758);const i={},a=s.createContext(i);function t(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);