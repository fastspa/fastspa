"use strict";(globalThis.webpackChunkfastspa_documentation=globalThis.webpackChunkfastspa_documentation||[]).push([[743],{8193(n,t,e){e.d(t,{R:()=>r,x:()=>o});var i=e(758);const s={},a=i.createContext(s);function r(n){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),i.createElement(a.Provider,{value:t},n.children)}},9534(n,t,e){e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"guides/uncertainty","title":"Uncertainty Quantification (Monte Carlo & LHS)","description":"fastspa supports uncertainty propagation by repeatedly sampling uncertain inputs and re-running SPA.","source":"@site/docs/guides/uncertainty.md","sourceDirName":"guides","slug":"/guides/uncertainty","permalink":"/docs/guides/uncertainty","draft":false,"unlisted":false,"editUrl":"https://docs.fastspa.net/edit/main/docs/docs/guides/uncertainty.md","tags":[],"version":"current","frontMatter":{"title":"Uncertainty Quantification (Monte Carlo & LHS)"},"sidebar":"tutorialSidebar","previous":{"title":"Network Analysis (Centrality & Bottlenecks)","permalink":"/docs/guides/network-analysis"},"next":{"title":"Consequential Mode (Perturbation / Policy Scenarios)","permalink":"/docs/guides/consequential-mode"}}');var s=e(6070),a=e(8193);const r={title:"Uncertainty Quantification (Monte Carlo & LHS)"},o=void 0,c={},l=[{value:"Monte Carlo uncertainty",id:"monte-carlo-uncertainty",level:2},{value:"Sector contribution uncertainty",id:"sector-contribution-uncertainty",level:3},{value:"Latin Hypercube Sampling (LHS)",id:"latin-hypercube-sampling-lhs",level:2},{value:"Sensitivity (elasticities)",id:"sensitivity-elasticities",level:2}];function u(n){const t={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"fastspa supports uncertainty propagation by repeatedly sampling uncertain inputs and re-running SPA."}),"\n",(0,s.jsx)(t.h2,{id:"monte-carlo-uncertainty",children:"Monte Carlo uncertainty"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'from fastspa import SPA\n\nspa = SPA(A, emissions, sectors=sectors)\n\nmc = spa.monte_carlo(\n    sector=42,\n    depth=8,\n    n_samples=500,\n    intensity_cv=0.2,      # 20% coefficient of variation on direct intensities\n    distribution="lognormal",\n    seed=42,\n)\n\nprint(mc.total_intensity.mean, mc.total_intensity.ci_low, mc.total_intensity.ci_high)\n'})}),"\n",(0,s.jsx)(t.h3,{id:"sector-contribution-uncertainty",children:"Sector contribution uncertainty"}),"\n",(0,s.jsx)(t.p,{children:"Monte Carlo results report uncertainty on leaf-sector contributions."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"sector_stats = mc.sector_contributions\nprint(sector_stats[10].mean, sector_stats[10].ci_low, sector_stats[10].ci_high)\n"})}),"\n",(0,s.jsx)(t.p,{children:"If pandas is installed:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"mc.sector_contributions_dataframe()\n"})}),"\n",(0,s.jsx)(t.h2,{id:"latin-hypercube-sampling-lhs",children:"Latin Hypercube Sampling (LHS)"}),"\n",(0,s.jsx)(t.p,{children:"For the same distributional assumptions, LHS can reduce variance in estimates with fewer samples."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'mc_lhs = spa.monte_carlo(\n    sector=42,\n    depth=8,\n    n_samples=200,\n    intensity_cv=0.2,\n    sampling="lhs",\n    seed=42,\n)\n'})}),"\n",(0,s.jsx)(t.h2,{id:"sensitivity-elasticities",children:"Sensitivity (elasticities)"}),"\n",(0,s.jsx)(t.p,{children:"Compute elasticities of total intensity to each direct intensity:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"sens = spa.sensitivity(sector=42)\n"})}),"\n",(0,s.jsx)(t.p,{children:"These elasticities sum to 1.0 for a given target sector."})]})}function d(n={}){const{wrapper:t}={...(0,a.R)(),...n.components};return t?(0,s.jsx)(t,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}}}]);