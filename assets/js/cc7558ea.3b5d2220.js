"use strict";(globalThis.webpackChunkfastspa_documentation=globalThis.webpackChunkfastspa_documentation||[]).push([[0],{587(e,i,n){n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/visualization","title":"Visualization Guide","description":"FastSPA provides interactive visualization tools for exploring supply chain analysis results using Plotly. These visualizations help identify bottlenecks, hotspots, and supply chain structure at a glance.","source":"@site/docs/guides/visualization.md","sourceDirName":"guides","slug":"/guides/visualization","permalink":"/docs/guides/visualization","draft":false,"unlisted":false,"editUrl":"https://docs.fastspa.net/edit/main/docs/docs/guides/visualization.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Loop Detection & Circular Economy Analysis","permalink":"/docs/guides/loop-analysis"},"next":{"title":"Sector Adjustments with IPF","permalink":"/docs/guides/sector-adjustments"}}');var t=n(6070),l=n(8193);const r={sidebar_position:5},a="Visualization Guide",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Installation",id:"installation",level:2},{value:"Icicle Plot",id:"icicle-plot",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Example: Multi-Satellite Analysis",id:"example-multi-satellite-analysis",level:3},{value:"Sunburst Plot",id:"sunburst-plot",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Sector Contribution Charts",id:"sector-contribution-charts",level:2},{value:"Working with Results",id:"working-with-results",level:2},{value:"Analyzing Single Sectors",id:"analyzing-single-sectors",level:3},{value:"Comparing Multiple Sectors",id:"comparing-multiple-sectors",level:3},{value:"System-Wide Analysis",id:"system-wide-analysis",level:3},{value:"Customization",id:"customization",level:2},{value:"Color Scales",id:"color-scales",level:3},{value:"Custom Titles",id:"custom-titles",level:3},{value:"Export Formats",id:"export-formats",level:2},{value:"Performance Notes",id:"performance-notes",level:2},{value:"Interpretation Guide",id:"interpretation-guide",level:2},{value:"Reading an Icicle Plot",id:"reading-an-icicle-plot",level:3},{value:"Identifying Hotspots",id:"identifying-hotspots",level:3},{value:"Exploring Branching Patterns",id:"exploring-branching-patterns",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"ImportError: plotly not found",id:"importerror-plotly-not-found",level:3},{value:"Plot looks empty or has missing sectors",id:"plot-looks-empty-or-has-missing-sectors",level:3},{value:"HTML file is very large",id:"html-file-is-very-large",level:3},{value:"See Also",id:"see-also",level:2}];function h(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"visualization-guide",children:"Visualization Guide"})}),"\n",(0,t.jsx)(i.p,{children:"FastSPA provides interactive visualization tools for exploring supply chain analysis results using Plotly. These visualizations help identify bottlenecks, hotspots, and supply chain structure at a glance."}),"\n",(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(i.p,{children:"The visualization module provides three main chart types:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Icicle Plots"}),": Hierarchical rectangles showing supply chain depth and contribution magnitude"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Sunburst Charts"}),": Radial hierarchical view of supply chains"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Sector Contribution Charts"}),": Bar charts showing top contributing sectors"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(i.p,{children:"Visualization features require Plotly:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"pip install plotly\n"})}),"\n",(0,t.jsx)(i.h2,{id:"icicle-plot",children:"Icicle Plot"}),"\n",(0,t.jsx)(i.p,{children:"The icicle plot is the primary visualization for supply chain decomposition. Each rectangle represents a supply chain link, with:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Width/Area"}),": Relative contribution to total intensity"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Color Intensity"}),": Magnitude of the intensity value"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Hierarchy"}),": Supply chain depth from target sector to suppliers"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from fastspa import SPA, icicle_plot\n\n# Run analysis\nspa = SPA(A_matrix, emissions, sectors=sector_names)\npaths = spa.analyze(sector=0, depth=6, threshold=0.001)\n\n# Generate interactive plot\nfig = icicle_plot(paths, output_html="supply_chain.html")\n'})}),"\n",(0,t.jsx)(i.h3,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'icicle_plot(\n    paths_dict,                # PathCollection or dict of PathCollections\n    output_html=None,          # Path to save HTML file (None = return Figure)\n    title="...",              # Plot title\n    colorscale="Plasma",      # Plotly colorscale name\n    include_stage_0=True      # Include direct requirements\n)\n'})}),"\n",(0,t.jsx)(i.h3,{id:"example-multi-satellite-analysis",children:"Example: Multi-Satellite Analysis"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'# Analyze multiple satellites\nresult = spa.analyze(sector=0, depth=6)  # Returns SPAResult with all satellites\n\n# Visualize all satellites together\nicicle_plot(\n    result,\n    output_html="multi_satellite.html",\n    title="Multi-Satellite Supply Chain Analysis"\n)\n'})}),"\n",(0,t.jsx)(i.h2,{id:"sunburst-plot",children:"Sunburst Plot"}),"\n",(0,t.jsx)(i.p,{children:"Sunburst charts provide a circular/radial view of the same hierarchy, useful for exploring specific branches by clicking."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from fastspa import sunburst_plot\n\npaths = spa.analyze(sector=0, depth=6)\n\nsunburst_plot(\n    paths,\n    output_html="sunburst.html",\n    max_depth=4  # Limit depth for clarity\n)\n'})}),"\n",(0,t.jsx)(i.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'sunburst_plot(\n    paths_dict,           # PathCollection or dict of PathCollections\n    output_html=None,     # Path to save HTML\n    title="...",         # Plot title\n    colorscale="Viridis", # Color scheme\n    max_depth=None       # Maximum depth to display\n)\n'})}),"\n",(0,t.jsx)(i.h2,{id:"sector-contribution-charts",children:"Sector Contribution Charts"}),"\n",(0,t.jsx)(i.p,{children:"Bar charts showing which sectors contribute most to the target sector's total intensity."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from fastspa import sector_contribution_chart\n\npaths = spa.analyze(sector=0, depth=6)\n\nsector_contribution_chart(\n    paths,\n    output_html="hotspots.html",\n    top_n=15  # Show top 15 sectors\n)\n'})}),"\n",(0,t.jsx)(i.p,{children:"This aggregates contributions by the leaf/upstream sector where the intensity occurs."}),"\n",(0,t.jsx)(i.h2,{id:"working-with-results",children:"Working with Results"}),"\n",(0,t.jsx)(i.h3,{id:"analyzing-single-sectors",children:"Analyzing Single Sectors"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'paths = spa.analyze(sector=42, depth=8)\n\n# Create all three visualizations\nicicle_plot(paths, output_html="icicle.html")\nsunburst_plot(paths, output_html="sunburst.html")\nsector_contribution_chart(paths, output_html="chart.html")\n'})}),"\n",(0,t.jsx)(i.h3,{id:"comparing-multiple-sectors",children:"Comparing Multiple Sectors"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'# Analyze multiple target sectors\nresults = spa.analyze_many(\n    sectors=[0, 5, 10, 15],\n    depth=6\n)\n\n# Each result can be visualized\nfor sector_id, paths in results.items():\n    icicle_plot(\n        paths,\n        output_html=f"icicle_sector_{sector_id}.html",\n        title=f"Supply Chain: Sector {sector_id}"\n    )\n'})}),"\n",(0,t.jsx)(i.h3,{id:"system-wide-analysis",children:"System-Wide Analysis"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'# Use system_wide mode for total requirements (including indirect flows)\nspa = SPA(A_matrix, emissions, sectors=names, mode="system_wide")\npaths = spa.analyze(sector=0, depth=6)\n\nicicle_plot(\n    paths,\n    output_html="total_requirements.html",\n    title="Total (Direct + Indirect) Supply Chain Requirements"\n)\n'})}),"\n",(0,t.jsx)(i.h2,{id:"customization",children:"Customization"}),"\n",(0,t.jsx)(i.h3,{id:"color-scales",children:"Color Scales"}),"\n",(0,t.jsx)(i.p,{children:"Plotly provides many built-in color scales. Common options:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"Plasma"'})," (default) - Perceptually uniform"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"Viridis"'})," - Colorblind-friendly"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"Turbo"'})," - High contrast"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"Blues"'})," - Monochromatic"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"RdBu"'})," - Diverging (red-blue)"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'icicle_plot(paths, output_html="plot.html", colorscale="Viridis")\n'})}),"\n",(0,t.jsx)(i.h3,{id:"custom-titles",children:"Custom Titles"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'icicle_plot(\n    paths,\n    output_html="plot.html",\n    title="Greenhouse Gas Emissions in Supply Chain"\n)\n'})}),"\n",(0,t.jsx)(i.h2,{id:"export-formats",children:"Export Formats"}),"\n",(0,t.jsx)(i.p,{children:"All functions return Plotly Figure objects:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'# Save to HTML (interactive)\nfig = icicle_plot(paths, output_html="plot.html")\n\n# Return Figure (for further customization)\nfig = icicle_plot(paths)\n\n# Export to image (requires kaleido)\nfig.write_image("plot.png")\nfig.write_image("plot.pdf")\n'})}),"\n",(0,t.jsx)(i.h2,{id:"performance-notes",children:"Performance Notes"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Icicle plots handle 100-500+ paths efficiently"}),"\n",(0,t.jsxs)(i.li,{children:["Sunburst plots can be slower with deep hierarchies (limit with ",(0,t.jsx)(i.code,{children:"max_depth"}),")"]}),"\n",(0,t.jsx)(i.li,{children:"HTML files are self-contained and can be shared/embedded"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"interpretation-guide",children:"Interpretation Guide"}),"\n",(0,t.jsx)(i.h3,{id:"reading-an-icicle-plot",children:"Reading an Icicle Plot"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Top Level"}),": All supply chains combined"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Second Level"}),": Breakdown by satellite (if multiple)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Deeper Levels"}),": Supply chain stages and sectors"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Rectangle Size"}),": Larger = higher contribution"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Color"}),": Darker/brighter = higher intensity value"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"identifying-hotspots",children:"Identifying Hotspots"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Look for large rectangles - these are major contributors"}),"\n",(0,t.jsx)(i.li,{children:"Darker colors indicate high intensity values"}),"\n",(0,t.jsx)(i.li,{children:"Multiple large siblings often indicate diversified supply chains"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"exploring-branching-patterns",children:"Exploring Branching Patterns"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Many branches = complex, multi-supplier chains"}),"\n",(0,t.jsx)(i.li,{children:"Few branches = focused, concentrated supply chains"}),"\n",(0,t.jsx)(i.li,{children:"Deep hierarchies = long supply chains with multiple tiers"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(i.h3,{id:"importerror-plotly-not-found",children:"ImportError: plotly not found"}),"\n",(0,t.jsx)(i.p,{children:"Install plotly:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"pip install plotly\n"})}),"\n",(0,t.jsx)(i.h3,{id:"plot-looks-empty-or-has-missing-sectors",children:"Plot looks empty or has missing sectors"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Check that paths were found: ",(0,t.jsx)(i.code,{children:"len(paths.paths) > 0"})]}),"\n",(0,t.jsxs)(i.li,{children:["Reduce threshold: ",(0,t.jsx)(i.code,{children:"threshold=0.001"})," instead of default"]}),"\n",(0,t.jsxs)(i.li,{children:["Increase depth: ",(0,t.jsx)(i.code,{children:"depth=8"})," or higher"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"html-file-is-very-large",children:"HTML file is very large"}),"\n",(0,t.jsx)(i.p,{children:"This is normal for many paths. You can:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Reduce the number of paths: use ",(0,t.jsx)(i.code,{children:"max_paths"})," parameter in ",(0,t.jsx)(i.code,{children:"analyze()"})]}),"\n",(0,t.jsx)(i.li,{children:"Increase threshold: use higher threshold value"}),"\n",(0,t.jsxs)(i.li,{children:["Limit depth: use smaller ",(0,t.jsx)(i.code,{children:"depth"})," value"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/docs/api/spa-class",children:"SPA Class Documentation"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/docs/concepts/path-objects",children:"Path Objects"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/docs/quick-start",children:"Quick Start Guide"})}),"\n"]})]})}function d(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8193(e,i,n){n.d(i,{R:()=>r,x:()=>a});var s=n(758);const t={},l=s.createContext(t);function r(e){const i=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:i},e.children)}}}]);